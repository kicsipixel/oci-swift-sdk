{"metadata":{"modules":[{"name":"OCIKit"}],"roleHeading":"Article","role":"article","title":"Authentication"},"sections":[],"hierarchy":{"paths":[["doc:\/\/OCIKit\/documentation\/OCIKit"]]},"seeAlsoSections":[{"generated":true,"title":"Essentials","anchor":"Essentials","identifiers":["doc:\/\/OCIKit\/documentation\/OCIKit\/GettingStarted"]}],"variants":[{"paths":["\/documentation\/ocikit\/authentication-article"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","abstract":[{"text":"Understand the different authentication methods available in OCIKit.","type":"text"}],"identifier":{"url":"doc:\/\/OCIKit\/documentation\/OCIKit\/Authentication-article","interfaceLanguage":"swift"},"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","text":"Overview","level":2,"type":"heading"},{"inlineContent":[{"text":"OCIKit provides multiple authentication strategies through the ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/Signer"},{"text":" protocol. Choose the method that best fits your deployment environment.","type":"text"}],"type":"paragraph"},{"anchor":"API-Key-Authentication","text":"API Key Authentication","level":2,"type":"heading"},{"inlineContent":[{"text":"The most common method for local development and scripts. Uses your OCI config file with a private key.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let signer = try APIKeySigner(","  configFilePath: \"~\/.oci\/config\",","  configName: \"DEFAULT\"",")"],"type":"codeListing"},{"anchor":"Configuration-File-Format","text":"Configuration File Format","level":3,"type":"heading"},{"syntax":"ini","code":["[DEFAULT]","user=ocid1.user.oc1..aaaaaaa...","fingerprint=aa:bb:cc:dd:ee:ff:00:11:22:33:44:55:66:77:88:99","tenancy=ocid1.tenancy.oc1..aaaaaaa...","region=eu-frankfurt-1","key_file=~\/.oci\/oci_api_key.pem"],"type":"codeListing"},{"anchor":"Multiple-Profiles","text":"Multiple Profiles","level":3,"type":"heading"},{"inlineContent":[{"text":"You can define multiple profiles in your config file and select one by name:","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["\/\/ Use the PRODUCTION profile","let signer = try APIKeySigner(","  configFilePath: \"~\/.oci\/config\",","  configName: \"PRODUCTION\"",")"],"type":"codeListing"},{"anchor":"Instance-Principal-Authentication","text":"Instance Principal Authentication","level":2,"type":"heading"},{"inlineContent":[{"text":"Use this when running code on an OCI compute instance. The instanceâ€™s identity is used for authentication - no config file needed.","type":"text"}],"type":"paragraph"},{"syntax":"swift","code":["let signer = try InstancePrincipalSigner()"],"type":"codeListing"},{"inlineContent":[{"type":"text","text":"The instance must be in a dynamic group with appropriate IAM policies granting access to the required resources."}],"type":"paragraph"},{"anchor":"Requirements","text":"Requirements","level":3,"type":"heading"},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Code must run on an OCI compute instance","type":"text"}]}]},{"content":[{"inlineContent":[{"text":"Instance must be in a dynamic group","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"IAM policies must grant the dynamic group access","type":"text"}],"type":"paragraph"}]}]},{"inlineContent":[{"text":"Example dynamic group matching rule:","type":"text"}],"type":"paragraph"},{"syntax":null,"type":"codeListing","code":["instance.compartment.id = 'ocid1.compartment.oc1..aaaaaaa...'"]},{"inlineContent":[{"text":"Example policy:","type":"text"}],"type":"paragraph"},{"syntax":null,"type":"codeListing","code":["Allow dynamic-group my-instances to manage objects in compartment my-compartment"]},{"text":"Security Token Authentication","type":"heading","level":2,"anchor":"Security-Token-Authentication"},{"inlineContent":[{"text":"For scenarios requiring temporary credentials or token-based authentication.","type":"text"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ From config file with security_token_file","let signer = try SecurityTokenSigner(","  configFilePath: \"~\/.oci\/config\",","  configName: \"DEFAULT\"",")","","\/\/ Or with direct token","let signer = SecurityTokenSigner(","  securityToken: tokenString,","  privateKey: privateKey",")"]},{"level":2,"type":"heading","anchor":"The-Signer-Protocol","text":"The Signer Protocol"},{"inlineContent":[{"type":"text","text":"All authentication methods implement the "},{"type":"reference","identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/Signer","isActive":true},{"type":"text","text":" protocol:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["public protocol Signer {","  func sign(_ req: inout URLRequest) throws","}"]},{"inlineContent":[{"type":"text","text":"This allows you to create custom authentication implementations if needed."}],"type":"paragraph"},{"level":2,"type":"heading","anchor":"Choosing-an-Authentication-Method","text":"Choosing an Authentication Method"},{"type":"table","header":"row","rows":[[[{"type":"paragraph","inlineContent":[{"text":"Method","type":"text"}]}],[{"inlineContent":[{"text":"Use Case","type":"text"}],"type":"paragraph"}]],[[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/APIKeySigner","isActive":true,"type":"reference"}]}],[{"type":"paragraph","inlineContent":[{"text":"Local development, scripts, CI\/CD pipelines","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/InstancePrincipalSigner","isActive":true,"type":"reference"}]}],[{"type":"paragraph","inlineContent":[{"text":"Applications running on OCI compute instances","type":"text"}]}]],[[{"type":"paragraph","inlineContent":[{"isActive":true,"type":"reference","identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/SecurityTokenSigner"}]}],[{"type":"paragraph","inlineContent":[{"text":"Temporary credentials, delegated auth","type":"text"}]}]]]},{"level":2,"type":"heading","anchor":"Error-Handling","text":"Error Handling"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Authentication errors are thrown as "},{"isActive":true,"type":"reference","identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/ConfigErrors"},{"type":"text","text":":"}]},{"syntax":"swift","type":"codeListing","code":["do {","  let signer = try APIKeySigner(configFilePath: \"~\/.oci\/config\")","}","catch ConfigErrors.missingConfig {","  print(\"Config file not found\")","}","catch ConfigErrors.missingKeyfile {","  print(\"Private key file not found\")","}","catch ConfigErrors.badKeyfile(let message) {","  print(\"Invalid key file: \\(message)\")","}"]}]}],"schemaVersion":{"minor":3,"patch":0,"major":0},"references":{"doc://OCIKit/documentation/OCIKit/APIKeySigner":{"abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"APIKeySigner"}],"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/APIKeySigner","kind":"symbol","url":"\/documentation\/ocikit\/apikeysigner","title":"APIKeySigner","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"APIKeySigner"}]},"doc://OCIKit/documentation/OCIKit/Signer":{"abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Signer"}],"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/Signer","kind":"symbol","url":"\/documentation\/ocikit\/signer","title":"Signer","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Signer"}]},"doc://OCIKit/documentation/OCIKit/ConfigErrors":{"title":"ConfigErrors","abstract":[],"navigatorTitle":[{"kind":"identifier","text":"ConfigErrors"}],"type":"topic","fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ConfigErrors","kind":"identifier"}],"url":"\/documentation\/ocikit\/configerrors","identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/ConfigErrors","role":"symbol","kind":"symbol"},"doc://OCIKit/documentation/OCIKit/SecurityTokenSigner":{"abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SecurityTokenSigner"}],"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/SecurityTokenSigner","kind":"symbol","url":"\/documentation\/ocikit\/securitytokensigner","title":"SecurityTokenSigner","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"SecurityTokenSigner"}]},"doc://OCIKit/documentation/OCIKit/InstancePrincipalSigner":{"abstract":[],"type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"InstancePrincipalSigner"}],"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/InstancePrincipalSigner","kind":"symbol","url":"\/documentation\/ocikit\/instanceprincipalsigner","title":"InstancePrincipalSigner","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"InstancePrincipalSigner"}]},"doc://OCIKit/documentation/OCIKit":{"identifier":"doc:\/\/OCIKit\/documentation\/OCIKit","title":"OCIKit","role":"collection","abstract":[{"type":"text","text":"A Swift SDK for Oracle Cloud Infrastructure (OCI) providing async\/await APIs for OCI services."}],"url":"\/documentation\/ocikit","type":"topic","kind":"symbol"},"doc://OCIKit/documentation/OCIKit/GettingStarted":{"abstract":[{"type":"text","text":"Learn how to set up and use OCIKit to interact with Oracle Cloud Infrastructure."}],"title":"Getting Started with OCIKit","type":"topic","url":"\/documentation\/ocikit\/gettingstarted","identifier":"doc:\/\/OCIKit\/documentation\/OCIKit\/GettingStarted","role":"article","kind":"article"}}}